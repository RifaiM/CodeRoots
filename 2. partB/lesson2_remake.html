<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Part B ‚Äì Lesson 2: HTML Text & Headings</title>
    
    <!-- External Stylesheets -->
    <link rel="stylesheet" href="/Global/root.css">
    <link rel="stylesheet" href="/2. partB/lesson2_remake.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- Add this protection script -->
        <script>
            (function() {
                'use strict';
                
                function getCurrentLessonNumber() {
                    const path = window.location.pathname;
                    const match = path.match(/lesson(\d+)/);
                    return match ? parseInt(match[1]) : 1;
                }

                function isLessonCompleted(lessonNumber) {
                    return localStorage.getItem(`partB_lesson${lessonNumber}_remake_complete`) === 'true';
                }

                function canAccessLesson(lessonNumber) {
                    if (lessonNumber === 1) return true;
                    
                    for (let i = 1; i < lessonNumber; i++) {
                        if (!isLessonCompleted(i)) {
                            return false;
                        }
                    }
                    return true;
                }

                function getNextAvailableLesson() {
                    for (let i = 1; i <= 15; i++) {
                        if (!isLessonCompleted(i)) {
                            return i;
                        }
                    }
                    return 15;
                }

                function showAccessDenied() {
                    const currentLesson = getCurrentLessonNumber();
                    const nextLesson = getNextAvailableLesson();
                    const requiredLesson = currentLesson - 1;
                    
                    document.body.innerHTML = `
                        <div style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; font-family: 'Nunito', sans-serif; z-index: 10000;">
                            <div style="background: white; padding: 40px; border-radius: 20px; box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2); text-align: center; max-width: 450px; margin: 20px;">
                                <div style="font-size: 4em; margin-bottom: 20px;">üîí</div>
                                <h1 style="color: #e74c3c; margin: 0 0 15px 0; font-size: 1.6em;">Access Denied</h1>
                                <p style="margin: 0 0 20px 0; line-height: 1.6; color: #555; font-size: 1.1em;">You must complete <strong>Lesson ${requiredLesson}</strong> before accessing Lesson ${currentLesson}.</p>
                                <button onclick="window.location.href='/2. partB/lesson${nextLesson}_remake.html'" style="background: linear-gradient(135deg, #007BFF, #0056b3); color: white; border: none; padding: 15px 30px; border-radius: 30px; font-weight: 600; cursor: pointer; font-size: 1.1em;">Take Me to Lesson ${nextLesson}</button>
                            </div>
                        </div>
                    `;
                }

                // IMMEDIATE CHECK
                const currentLesson = getCurrentLessonNumber();
                
                if (!canAccessLesson(currentLesson)) {
                    // Don't hide the document immediately - wait for DOM to be ready
                    if (document.readyState === 'loading') {
                        document.addEventListener('DOMContentLoaded', showAccessDenied);
                    } else {
                        // DOM is already ready, show access denied immediately
                        showAccessDenied();
                    }
                    return; // Exit early
                }
            })();
        </script>
</head>

<body>
    <!-- Navigation: Back to Part A -->
    <a href="../index.html" class="home-button" title="Back to PartA">üè†</a>
    
    <!-- Page Header -->
    <header>
        <h1>Lesson 2 ‚Äì HTML Text & Headings</h1>
    </header>
    
    <!-- Main Content Container -->
    <main class="container">
        <!-- Progress Tracker Section -->
        <div class="progress-steps">
            <div class="step active">
                <div class="step-circle">1</div>
                <div class="step-label">Learn</div>
            </div>
            <div class="step">
                <div class="step-circle">2</div>
                <div class="step-label">Practice</div>
            </div>
            <div class="step">
                <div class="step-circle">3</div>
                <div class="step-label">Complete</div>
            </div>
        </div>

        <!-- Introduction Section -->
        <section class="card">
            <h2>
                <span class="section-icon">üìù</span>
                Master HTML Text & Headings!
            </h2>
            <p>Text is the foundation of web content! HTML provides different heading levels and text formatting options to create clear, readable, and well-structured content.</p>
            
            <!-- Highlight Box -->
            <div class="intro-highlight">
                HTML has <strong>6 heading levels</strong> (h1 to h6) that create a hierarchy, plus <strong>paragraph tags</strong> (p) for body text. Think of headings like an outline for your content!
            </div>
        </section>

        <!-- Heading Hierarchy Demonstration -->
        <section class="card">
            <h2>
                <span class="section-icon">üóÇÔ∏è</span>
                HTML Heading Hierarchy
            </h2>
            <p>Headings create a visual hierarchy that helps users scan your content. Click each example to see the effect:</p>
            
            <!-- Interactive Heading Examples -->
            <div class="heading-hierarchy">
                <div class="heading-example" onclick="highlightHeading(this, 'h1')">
                    <div class="heading-code">&lt;h1&gt;...&lt;/h1&gt;</div>
                    <div class="heading-visual h1-visual">Main Title (Largest)</div>
                </div>
                <div class="heading-example" onclick="highlightHeading(this, 'h2')">
                    <div class="heading-code">&lt;h2&gt;...&lt;/h2&gt;</div>
                    <div class="heading-visual h2-visual">Section Title</div>
                </div>
                <div class="heading-example" onclick="highlightHeading(this, 'h3')">
                    <div class="heading-code">&lt;h3&gt;...&lt;/h3&gt;</div>
                    <div class="heading-visual h3-visual">Subsection</div>
                </div>
                <div class="heading-example" onclick="highlightHeading(this, 'h4')">
                    <div class="heading-code">&lt;h4&gt;...&lt;/h4&gt;</div>
                    <div class="heading-visual h4-visual">Minor Heading</div>
                </div>
                <div class="heading-example" onclick="highlightHeading(this, 'h5')">
                    <div class="heading-code">&lt;h5&gt;...&lt;/h5&gt;</div>
                    <div class="heading-visual h5-visual">Small Heading</div>
                </div>
                <div class="heading-example" onclick="highlightHeading(this, 'h6')">
                    <div class="heading-code">&lt;h6&gt;...&lt;/h6&gt;</div>
                    <div class="heading-visual h6-visual">Smallest Heading</div>
                </div>
            </div>
        </section>

        <!-- Text Formatting Examples Section -->
        <section class="card">
            <h2>
                <span class="section-icon">‚ú®</span>
                Text Formatting Magic
            </h2>
            <p>Make your text more expressive with these formatting tags:</p>
            
            <!-- Interactive Text Format Examples -->
            <div class="text-format-demo">
                <div class="format-example" onclick="animateFormat(this)">
                    <div class="format-code">&lt;p&gt;Normal text&lt;/p&gt;</div>
                    <div class="format-visual">Regular paragraph text</div>
                </div>
                <div class="format-example" onclick="animateFormat(this)">
                    <div class="format-code">&lt;strong&gt;Bold&lt;/strong&gt;</div>
                    <div class="format-visual"><strong>Important text</strong></div>
                </div>
                <div class="format-example" onclick="animateFormat(this)">
                    <div class="format-code">&lt;em&gt;Emphasis&lt;/em&gt;</div>
                    <div class="format-visual"><em>Stressed text</em></div>
                </div>
                <div class="format-example" onclick="animateFormat(this)">
                    <div class="format-code">&lt;u&gt;Underline&lt;/u&gt;</div>
                    <div class="format-visual"><u>Underlined text</u></div>
                </div>
            </div>
        </section>

        <!-- Live Example Section -->
        <section class="card">
            <h2>
                <span class="section-icon">üé®</span>
                See HTML Text in Action
            </h2>
            <p>Here's a complete example showing different headings and text formatting:</p>
            
            <!-- Two-Column Layout: Code and Preview -->
            <div class="two-col">
                <!-- Left Column: HTML Code -->
                <div class="pane">
                    <h3>
                        <span class="pane-icon">üíª</span>
                        HTML Code
                    </h3>
                    <textarea readonly id="demo-code">&lt;h1&gt;My Amazing Blog Post&lt;/h1&gt;
&lt;h2&gt;Introduction to Web Development&lt;/h2&gt;
&lt;p&gt;Learning HTML is the &lt;strong&gt;first step&lt;/strong&gt; to becoming a web developer. It's &lt;em&gt;easier than you think&lt;/em&gt;!&lt;/p&gt;

&lt;h3&gt;What You'll Learn&lt;/h3&gt;
&lt;p&gt;In this course, you'll discover how to create &lt;u&gt;beautiful&lt;/u&gt; and &lt;strong&gt;functional&lt;/strong&gt; websites.&lt;/p&gt;

&lt;h4&gt;Prerequisites&lt;/h4&gt;
&lt;p&gt;No prior experience needed! Just bring your &lt;em&gt;curiosity&lt;/em&gt; and enthusiasm.&lt;/p&gt;</textarea>
                </div>
                
                <!-- Right Column: Live Preview -->
                <div class="pane">
                    <h3>
                        <span class="pane-icon">üëÅÔ∏è</span>
                        Live Result
                    </h3>
                    <div class="frame-wrap">
                        <iframe id="demo-preview" title="HTML Demo"></iframe>
                    </div>
                </div>
            </div>
        </section>

        <!-- Interactive Challenge Section -->
        <section class="card">
            <h2>
                <span class="section-icon">üéØ</span>
                Your Text & Headings Challenge
            </h2>
            <p>Create a page about your favorite hobby or interest! Include:</p>
            
            <!-- Challenge Requirements List -->
            <ul>
                <li>‚úÖ A main title using <strong>&lt;h1&gt;</strong></li>
                <li>‚úÖ A subheading using <strong>&lt;h2&gt;</strong></li>
                <li>‚úÖ A paragraph using <strong>&lt;p&gt;</strong> with some <strong>&lt;strong&gt;</strong> or <strong>&lt;em&gt;</strong> text</li>
                <li>üé® Feel free to add more headings and paragraphs!</li>
            </ul>
            
            <!-- Two-Column Challenge Layout -->
            <div class="two-col">
                <!-- Left Column: Enhanced Code Editor -->
                <div class="pane">
                    <h3>
                        <span class="pane-icon">‚úèÔ∏è</span>
                        Write Your HTML Here
                    </h3>
                    <div class="code-editor">
                        <div class="editor-header">
                            <div class="editor-tab active">
                                <div class="file-icon"></div>
                                index.html
                            </div>
                        </div>
                        <div class="editor-content">
                            <!--<div class="line-numbers" id="line-numbers">1</div>-->
                            <textarea 
                                id="task-code" 
                                class="editor-textarea"
                                placeholder="Type your HTML code here...

Example:
<h1>My Favorite Hobby</h1>
<h2>Why I Love Photography</h2>
<p>Photography allows me to <strong>capture memories</strong> and express my creativity!</p>"
                                spellcheck="false"
                                autocomplete="off"
                                autocorrect="off"
                                autocapitalize="off"
                            ></textarea>
                        </div>
                        <div class="editor-status">
                            <div class="status-left">
                                <span>üåê HTML</span>
                                <span>UTF-8</span>
                                <span>LF</span>
                            </div>
                            <div class="status-right">
                                <span>Ln <span id="current-line">1</span>, Col <span id="current-col">1</span></span>
                                <span>Spaces: 2</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Right Column: Live Preview -->
                <div class="pane">
                    <h3>
                        <span class="pane-icon">üé≠</span>
                        Your Live Preview
                    </h3>
                    <div class="frame-wrap">
                        <iframe id="task-preview" title="Your HTML Result"></iframe>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="btns">
                <button class="btn-primary" onclick="checkAnswer()">
                    üîç Check My Answer
                </button>
                <button class="btn-warn" onclick="showHint()">
                    üí° Need a Hint?
                </button>
                <button disabled id="nextLessonBtn">
                    ‚û°Ô∏è Next Lesson
                </button>
            </div>
            
            <!-- Feedback Display Area -->
            <div class="feedback" id="feedback"></div>
        </section>
    </main>

    <!-- External JavaScript Files -->
    <script src="/2. partB/lesson-navigation.js"></script>
    <script src="/2. partB/lesson2_remake.js"></script>
</body>
</html>