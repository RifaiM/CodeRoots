<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>Part B ‚Äì Lesson 9: CSS Positioning</title>
  
  <link rel="stylesheet" href="/Global/root.css">
  <link rel="stylesheet" href="/2. partB/lesson9_remake.css">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- protection script -->
        <script>
            (function() {
                'use strict';
                
                function getCurrentLessonNumber() {
                    const path = window.location.pathname;
                    const match = path.match(/lesson(\d+)/);
                    return match ? parseInt(match[1]) : 1;
                }

                function isLessonCompleted(lessonNumber) {
                    return localStorage.getItem(`partB_lesson${lessonNumber}_remake_complete`) === 'true';
                }

                function canAccessLesson(lessonNumber) {
                    if (lessonNumber === 1) return true;
                    
                    for (let i = 1; i < lessonNumber; i++) {
                        if (!isLessonCompleted(i)) {
                            return false;
                        }
                    }
                    return true;
                }

                function getNextAvailableLesson() {
                    for (let i = 1; i <= 15; i++) {
                        if (!isLessonCompleted(i)) {
                            return i;
                        }
                    }
                    return 15;
                }

                function showAccessDenied() {
                    const currentLesson = getCurrentLessonNumber();
                    const nextLesson = getNextAvailableLesson();
                    const requiredLesson = currentLesson - 1;
                    
                    document.body.innerHTML = `
                        <div style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; font-family: 'Nunito', sans-serif; z-index: 10000;">
                            <div style="background: white; padding: 40px; border-radius: 20px; box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2); text-align: center; max-width: 450px; margin: 20px;">
                                <div style="font-size: 4em; margin-bottom: 20px;">üîí</div>
                                <h1 style="color: #e74c3c; margin: 0 0 15px 0; font-size: 1.6em;">Access Denied</h1>
                                <p style="margin: 0 0 20px 0; line-height: 1.6; color: #555; font-size: 1.1em;">You must complete <strong>Lesson ${requiredLesson}</strong> before accessing Lesson ${currentLesson}.</p>
                                <button onclick="window.location.href='/2. partB/lesson${nextLesson}_remake.html'" style="background: linear-gradient(135deg, #007BFF, #0056b3); color: white; border: none; padding: 15px 30px; border-radius: 30px; font-weight: 600; cursor: pointer; font-size: 1.1em;">Take Me to Lesson ${nextLesson}</button>
                            </div>
                        </div>
                    `;
                }

                // IMMEDIATE CHECK
                const currentLesson = getCurrentLessonNumber();
                
                if (!canAccessLesson(currentLesson)) {
                    // Don't hide the document immediately - wait for DOM to be ready
                    if (document.readyState === 'loading') {
                        document.addEventListener('DOMContentLoaded', showAccessDenied);
                    } else {
                        // DOM is already ready, show access denied immediately
                        showAccessDenied();
                    }
                    return; // Exit early
                }
            })();
        </script>
</head>
<body>
  <a href="../index.html" class="home-button" title="Back to PartA">üè†</a>
  
  <header>
    <h1>Lesson 9 ‚Äî CSS Positioning</h1>
  </header>
  
  <main class="container">
    <!-- Progress Tracker -->
    <div class="progress-steps">
      <div class="step active">
        <div class="step-circle">1</div>
        <div class="step-label">Learn</div>
      </div>
      <div class="step">
        <div class="step-circle">2</div>
        <div class="step-label">Practice</div>
      </div>
      <div class="step">
        <div class="step-circle">3</div>
        <div class="step-label">Complete</div>
      </div>
    </div>

    <!-- Enhanced Introduction -->
    <section class="card">
      <h2>
        <span class="section-icon">üéØ</span>
        CSS Positioning ‚Äì Control Element Placement!
      </h2>
      <p>CSS positioning lets you precisely control where elements appear on your webpage. Think of it as having superpowers to place elements exactly where you want them ‚Äì whether that's sticking a navigation bar to the top, floating a sidebar, or creating overlays.</p>
      
      <div class="intro-highlight">
        Positioning is like giving directions to elements: "Stay at the top of the page," "Move 20 pixels from your normal spot," or "Float in the corner!" Each position type has its own <strong>special behavior</strong>.
      </div>
      
      <h3>üéÆ The Four Position Types</h3>
      <div class="position-comparison">
        <div class="comparison-card static-card" onclick="highlightPosition('static')">
          <span class="comparison-icon">üìÑ</span>
          <h4>static</h4>
          <p>Default behavior - follows normal document flow</p>
          <div class="comparison-code">position: static;</div>
        </div>
        
        <div class="comparison-card relative-card" onclick="highlightPosition('relative')">
          <span class="comparison-icon">üîÑ</span>
          <h4>relative</h4>
          <p>Offset from its normal position, but space is reserved</p>
          <div class="comparison-code">position: relative;<br>top: 10px; left: 20px;</div>
        </div>
        
        <div class="comparison-card absolute-card" onclick="highlightPosition('absolute')">
          <span class="comparison-icon">üéØ</span>
          <h4>absolute</h4>
          <p>Positioned relative to nearest positioned parent</p>
          <div class="comparison-code">position: absolute;<br>top: 0; right: 0;</div>
        </div>
        
        <div class="comparison-card fixed-card" onclick="highlightPosition('fixed')">
          <span class="comparison-icon">üìå</span>
          <h4>fixed</h4>
          <p>Fixed to the viewport - stays in place when scrolling</p>
          <div class="comparison-code">position: fixed;<br>bottom: 20px;</div>
        </div>
      </div>
    </section>

    <!-- Interactive Positioning Playground -->
    <section class="card">
      <h2>
        <span class="section-icon">üéÆ</span>
        Interactive Positioning Playground
      </h2>
      <p>Click on the position types below to see how each one behaves! Watch how the colored boxes move and position themselves differently.</p>
      
      <div class="positioning-playground">
        <div class="playground-controls">
          <button class="position-btn static-btn active" data-position="static">
            üìÑ Static
          </button>
          <button class="position-btn relative-btn" data-position="relative">
            üîÑ Relative
          </button>
          <button class="position-btn absolute-btn" data-position="absolute">
            üéØ Absolute
          </button>
          <button class="position-btn fixed-btn" data-position="fixed">
            üìå Fixed
          </button>
        </div>
        
        <div class="demo-container" id="demo-container">
          <div class="demo-box static" id="demo-box">
            Static Box<br>
            <small>Normal flow</small>
          </div>
          <div class="demo-box static">
            Box 2<br>
            <small>Also static</small>
          </div>
          <div class="demo-box static">
            Box 3<br>
            <small>Normal flow</small>
          </div>
        </div>
        
        <div class="position-info" id="position-info">
          <h4>üìÑ Static Positioning (Default)</h4>
          <p>Elements follow the normal document flow. They appear one after another, just like text in a paragraph. The <code>top</code>, <code>right</code>, <code>bottom</code>, and <code>left</code> properties have no effect on static elements.</p>
        </div>
      </div>
    </section>

    <!-- Live Demo Section -->
    <section class="card">
      <h2>
        <span class="section-icon">üé≠</span>
        Positioning in Action
      </h2>
      <p>See a real example of how different positioning methods work together to create a complete webpage layout:</p>
      
      <div class="two-col">
        <div class="pane">
          <h3>
            <span class="pane-icon">üíª</span>
            HTML + CSS Code
          </h3>
          <textarea readonly id="demo-code"><!DOCTYPE html>
<html>
<head>
  <style>
    body { 
      margin: 0; 
      font-family: Arial, sans-serif;
      padding-top: 60px; /* Space for fixed header */
      padding-bottom: 60px; /* Space for fixed footer */
      font-size: 0.6rem;
    }
    
    .header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: #007BFF;
      color: white;
      padding: 15px 20px;
      z-index: 1000;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .sidebar {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 200px;
      background: white;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .content {
      padding: 20px;
      max-width: 600px;
      position: relative;
    }
    
    .badge {
      position: absolute;
      top: -8px;
      right: -8px;
      background: #e74c3c;
      color: white;
      border-radius: 50%;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: bold;
    }
    
    .footer {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 90vw;
      background: #333;
      color: white;
      text-align: center;
      padding: 15px;
      z-index: 1000;
    }
  </style>
</head>
<body>
  <div class="header">üéØ Fixed Header - Always Visible!</div>
  
  <div class="sidebar">
    <h4>üìç Absolute Sidebar</h4>
    <p>This sidebar floats in the top-right corner using position: absolute.</p>
  </div>
  
  <div class="content">
    <h2>Welcome to Positioning Demo</h2>
    <div style="position: relative; background: #f0f8ff; padding: 20px; border-radius: 8px;">
      <div class="badge">3</div>
      <h3>üì¶ Relative Container</h3>
      <p>This container uses position: relative, which allows the badge to be positioned absolutely relative to it.</p>
    </div>
    
    <p>The header above uses <strong>position: fixed</strong> to stay at the top of the viewport. The sidebar uses <strong>position: absolute</strong> to float in the corner. The badge uses <strong>position: absolute</strong> within a <strong>position: relative</strong> container.</p>
    
    <p>Scroll down in the preview to see how the fixed header and footer stay in place!</p>
    
    <div style="height: 200px; background: linear-gradient(to bottom, #e3f2fd, #bbdefb); border-radius: 8px; display: flex; align-items: center; justify-content: center; margin: 20px 0;">
      <p style="text-align: center; margin: 0;"><strong>Extra content to demonstrate scrolling</strong><br>The fixed elements stay in place!</p>
    </div>
  </div>
  
  <div class="footer">üìå Fixed Footer - Always at Bottom!</div>
</body>
</html></textarea>
        </div>
        <div class="pane">
          <h3>
            <span class="pane-icon">üëÅÔ∏è</span>
            Live Result
          </h3>
          <div class="frame-wrap">
            <iframe id="demo-preview" title="Positioning Demo"></iframe>
          </div>
        </div>
      </div>
    </section>

    <!-- Understanding Use Cases -->
    <section class="card">
      <h2>
        <span class="section-icon">üõ†Ô∏è</span>
        When to Use Each Position Type
      </h2>
      <p>Each positioning method has specific use cases. Understanding when to use each one is key to building great layouts:</p>
      
      <div class="position-comparison">
        <div class="comparison-card static-card">
          <span class="comparison-icon">üìÑ</span>
          <h4>Static - Default Content</h4>
          <p><strong>Use for:</strong> Regular content like paragraphs, images, and most elements. Let them flow naturally.</p>
        </div>
        
        <div class="comparison-card relative-card">
          <span class="comparison-icon">üîÑ</span>
          <h4>Relative - Slight Adjustments</h4>
          <p><strong>Use for:</strong> Making small position tweaks or creating positioning contexts for absolute children.</p>
        </div>
        
        <div class="comparison-card absolute-card">
          <span class="comparison-icon">üéØ</span>
          <h4>Absolute - Precise Placement</h4>
          <p><strong>Use for:</strong> Badges, tooltips, dropdowns, or any element that needs precise positioning within a container.</p>
        </div>
        
        <div class="comparison-card fixed-card">
          <span class="comparison-icon">üìå</span>
          <h4>Fixed - Always Visible</h4>
          <p><strong>Use for:</strong> Navigation bars, floating buttons, sticky headers, or elements that should stay visible while scrolling.</p>
        </div>
      </div>
      
      <div class="intro-highlight">
        <strong>Pro Tip:</strong> Absolute positioning removes elements from the normal flow, so other elements act like they don't exist. Fixed positioning does the same but positions relative to the viewport instead of a parent element.
      </div>
    </section>

    <!-- Interactive Task -->
    <section class="card">
      <h2>
        <span class="section-icon">üéØ</span>
        Your Positioning Challenge
      </h2>
      <p>Create a webpage with a sticky footer using CSS positioning. Your page should include:</p>
      <ul>
        <li>‚úÖ A <strong>complete HTML structure</strong> with head and body</li>
        <li>‚úÖ A <strong>header section</strong> with a title</li>
        <li>‚úÖ A <strong>main content area</strong> with at least 2 paragraphs</li>
        <li>‚úÖ A <strong>footer</strong> that uses <code>position: fixed</code></li>
        <li>‚úÖ Footer should stay at the bottom with <code>bottom: 0</code> and <code>width: 100%</code></li>
        <li>‚úÖ Content should have proper spacing to avoid footer overlap</li>
        <li>üé® At least one element using <code>position: absolute</code> or <code>relative</code></li>
      </ul>
      
      <div class="intro-highlight">
        <strong>Key Requirements:</strong> Your footer must use <code>position: fixed</code>, <code>bottom: 0</code>, and <code>width: 100%</code>. Don't forget to add margin or padding to prevent content from hiding behind the footer!
      </div>
      
      <div class="two-col">
        <!-- Enhanced Code Editor like Lesson 1 -->
        <div class="pane">
            <h3>
                <span class="pane-icon">‚úèÔ∏è</span>
                Write Your HTML & CSS Here
            </h3>
            <div class="code-editor">
                <div class="editor-header">
                    <div class="editor-tab active">
                        <div class="file-icon"></div>
                        index.html
                    </div>
                </div>
                <div class="editor-content">
                    <textarea
                        id="task-code" 
                        class="editor-textarea"
                        placeholder="Create your positioned webpage here...

Hint: Start with a complete HTML structure:

<!DOCTYPE html>
<html>
<head>
<style>
body {
margin: 0;
font-family: Arial, sans-serif;
margin-bottom: 80px; /* Space for footer */
}

.footer {
position: fixed;
bottom: 0;
left: 0;
width: 100%;
background: #333;
color: white;
padding: 15px;
text-align: center;
}
</style>
</head>
<body>
<header>
<h1>My Website</h1>
</header>

<main>
<p>Main content here...</p>
<p>More content...</p>
</main>

<footer class='footer'>
Footer content
</footer>
</body>
</html>"
                        spellcheck="false"
                        autocomplete="off"
                        autocorrect="off"
                        autocapitalize="off"
                    ></textarea>
                </div>
                <div class="editor-status">
                    <div class="status-left">
                        <span>üåê HTML</span>
                        <span>UTF-8</span>
                        <span>LF</span>
                    </div>
                    <div class="status-right">
                        <span>Ln <span id="current-line">1</span>, Col <span id="current-col">1</span></span>
                        <span>Spaces: 2</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="pane">
            <h3>
                <span class="pane-icon">üé≠</span>
                Your Live Preview
            </h3>
            <div class="frame-wrap">
                <iframe id="task-preview" title="Your Positioning Result"></iframe>
            </div>
        </div>
    </div>
      
      <div class="btns">
        <button class="btn-primary" onclick="checkAnswer()">
          üîç Check My Code
        </button>
        <button class="btn-warn" onclick="showHint()">
          üí° Need a Hint?
        </button>
        <button disabled id="nextLessonBtn">
          ‚û°Ô∏è Next Lesson
        </button>
      </div>
      
      <div class="feedback" id="feedback"></div>
    </section>
  </main>

  <script src="/2. partB/lesson-navigation.js"></script>
  <script src="/2. partB/lesson9_remake.js"></script>
</body>
</html>