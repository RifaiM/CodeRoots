<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Part B – Lesson 3: Links & Images</title>
    
    <!-- CSS Stylesheets -->
    <link rel="stylesheet" href="/Global/root.css">
    <link rel="stylesheet" href="/2. partB/lesson3_remake.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">

        <!-- Add this protection script -->
        <script>
            (function() {
                'use strict';
                
                function getCurrentLessonNumber() {
                    const path = window.location.pathname;
                    const match = path.match(/lesson(\d+)/);
                    return match ? parseInt(match[1]) : 1;
                }

                function isLessonCompleted(lessonNumber) {
                    return localStorage.getItem(`partB_lesson${lessonNumber}_remake_complete`) === 'true';
                }

                function canAccessLesson(lessonNumber) {
                    if (lessonNumber === 1) return true;
                    
                    for (let i = 1; i < lessonNumber; i++) {
                        if (!isLessonCompleted(i)) {
                            return false;
                        }
                    }
                    return true;
                }

                function getNextAvailableLesson() {
                    for (let i = 1; i <= 15; i++) {
                        if (!isLessonCompleted(i)) {
                            return i;
                        }
                    }
                    return 15;
                }

                function showAccessDenied() {
                    const currentLesson = getCurrentLessonNumber();
                    const nextLesson = getNextAvailableLesson();
                    const requiredLesson = currentLesson - 1;
                    
                    document.body.innerHTML = `
                        <div style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; font-family: 'Nunito', sans-serif; z-index: 10000;">
                            <div style="background: white; padding: 40px; border-radius: 20px; box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2); text-align: center; max-width: 450px; margin: 20px;">
                                <div style="font-size: 4em; margin-bottom: 20px;">🔒</div>
                                <h1 style="color: #e74c3c; margin: 0 0 15px 0; font-size: 1.6em;">Access Denied</h1>
                                <p style="margin: 0 0 20px 0; line-height: 1.6; color: #555; font-size: 1.1em;">You must complete <strong>Lesson ${requiredLesson}</strong> before accessing Lesson ${currentLesson}.</p>
                                <button onclick="window.location.href='/2. partB/lesson${nextLesson}_remake.html'" style="background: linear-gradient(135deg, #007BFF, #0056b3); color: white; border: none; padding: 15px 30px; border-radius: 30px; font-weight: 600; cursor: pointer; font-size: 1.1em;">Take Me to Lesson ${nextLesson}</button>
                            </div>
                        </div>
                    `;
                }

                // IMMEDIATE CHECK
                const currentLesson = getCurrentLessonNumber();
                
                if (!canAccessLesson(currentLesson)) {
                    // Don't hide the document immediately - wait for DOM to be ready
                    if (document.readyState === 'loading') {
                        document.addEventListener('DOMContentLoaded', showAccessDenied);
                    } else {
                        // DOM is already ready, show access denied immediately
                        showAccessDenied();
                    }
                    return; // Exit early
                }
            })();
        </script>
</head>

<body>
    <!-- Home navigation button -->
    <a href="../index.html" class="home-button" title="Back to PartA">🏠</a>
    
    <!-- Page header -->
    <header>
        <h1>Lesson 3 – Links & Images</h1>
    </header>
    
    <!-- Main content container -->
    <main class="container">
        
        <!-- Progress tracker section -->
        <div class="progress-steps">
            <div class="step active">
                <div class="step-circle">1</div>
                <div class="step-label">Learn</div>
            </div>
            <div class="step">
                <div class="step-circle">2</div>
                <div class="step-label">Practice</div>
            </div>
            <div class="step">
                <div class="step-circle">3</div>
                <div class="step-label">Complete</div>
            </div>
        </div>

        <!-- Introduction section -->
        <section class="card">
            <h2>
                <span class="section-icon">🔗</span>
                Connect Your Web with Links & Images!
            </h2>
            <p>Links and images are what make the web truly interconnected and visually appealing! Learn how to create clickable links that take users anywhere and display beautiful images that enhance your content.</p>
            
            <div class="intro-highlight">
                The <strong>&lt;a&gt;</strong> tag creates links, while the <strong>&lt;img&gt;</strong> tag displays images. Together, they transform static text into an interactive, visual experience!
            </div>
        </section>

        <!-- Interactive feature overview -->
        <section class="card">
            <h2>
                <span class="section-icon">✨</span>
                What You'll Master Today
            </h2>
            <div class="feature-grid">
                <!-- Interactive links feature card -->
                <div class="feature-card" onclick="animateFeature(this, 'links')">
                    <span class="feature-icon">🔗</span>
                    <div class="feature-title">Interactive Links</div>
                    <div class="feature-desc">Create clickable links to other pages, websites, and sections</div>
                </div>
                
                <!-- Beautiful images feature card -->
                <div class="feature-card" onclick="animateFeature(this, 'images')">
                    <span class="feature-icon">🖼️</span>
                    <div class="feature-title">Beautiful Images</div>
                    <div class="feature-desc">Display photos, graphics, and visual content with proper accessibility</div>
                </div>
                
                <!-- File paths feature card -->
                <div class="feature-card" onclick="animateFeature(this, 'paths')">
                    <span class="feature-icon">📁</span>
                    <div class="feature-title">File Paths</div>
                    <div class="feature-desc">Understand absolute vs relative paths for linking resources</div>
                </div>
            </div>
        </section>

        <!-- Links demonstration section -->
        <section class="card">
            <h2>
                <span class="section-icon">🎯</span>
                Interactive Links in Action
            </h2>
            <p>Click on these example links to see different types in action:</p>
            
            <div class="link-demo">
                <div class="link-examples">
                    <!-- External link example -->
                    <a href="https://www.google.com" target="_blank" class="demo-link">🌍 External Link</a>
                    
                    <!-- Internal link example -->
                    <a href="#" onclick="showInfo('internal')" class="demo-link">📄 Internal Link</a>
                    
                    <!-- Email link example -->
                    <a href="mailto:hello@example.com" class="demo-link">📧 Email Link</a>
                    
                    <!-- Phone link example -->
                    <a href="tel:+1234567890" class="demo-link">📞 Phone Link</a>
                </div>
                
                <!-- Pro tip section -->
                <div style="margin-top: 16px; padding: 12px; background: rgba(255,255,255,0.8); border-radius: 8px; font-size: 0.9em;">
                    <strong>💡 Pro Tip:</strong> Use <code>target="_blank"</code> to open links in new tabs!
                </div>
            </div>
        </section>

        <!-- Images demonstration section -->
        <section class="card">
            <h2>
                <span class="section-icon">🎨</span>
                Images That Come Alive
            </h2>
            <p>Hover over the image to see interactive effects:</p>
            
            <div class="image-demo">
                <!-- Interactive demo image -->
                <img src="https://placehold.jp/30/007BFF/ffffff/150x150.png?text=interactive+image" 
                     alt="Interactive demo image" 
                     class="demo-image"
                     onclick="animateImage(this)">
                
                <!-- Accessibility reminder -->
                <div style="margin-top: 16px; padding: 12px; background: rgba(255,255,255,0.8); border-radius: 8px; font-size: 0.9em;">
                    <strong>🔍 Remember:</strong> Always include <code>alt</code> text for accessibility!
                </div>
            </div>
        </section>

        <!-- Complete example section -->
        <section class="card">
            <h2>
                <span class="section-icon">🎭</span>
                Complete Example: Personal Profile
            </h2>
            <p>Here's how links and images work together in a real webpage:</p>
            
            <div class="two-col">
                <!-- HTML code pane -->
                <div class="pane">
                    <h3>
                        <span class="pane-icon">💻</span>
                        HTML Code
                    </h3>
                    <textarea readonly id="demo-code">&lt;h1&gt;Welcome to My Portfolio&lt;/h1&gt;
&lt;img src="https://via.placeholder.com/150/28a745/FFFFFF?text=Me" 
     alt="Profile photo of John Doe" 
     width="150"&gt;

&lt;h2&gt;About Me&lt;/h2&gt;
&lt;p&gt;Hi! I'm a &lt;strong&gt;web developer&lt;/strong&gt; who loves creating amazing websites.&lt;/p&gt;

&lt;h3&gt;My Favorite Resources&lt;/h3&gt;
&lt;p&gt;Check out these awesome sites:&lt;/p&gt;
&lt;a href="https://developer.mozilla.org" target="_blank"&gt;MDN Web Docs&lt;/a&gt; | 
&lt;a href="https://github.com" target="_blank"&gt;My GitHub&lt;/a&gt; | 
&lt;a href="mailto:contact@example.com"&gt;Email Me&lt;/a&gt;

&lt;p&gt;Download my &lt;a href="resume.pdf"&gt;resume&lt;/a&gt; or view my &lt;a href="portfolio.html"&gt;portfolio&lt;/a&gt;!&lt;/p&gt;</textarea>
                </div>
                
                <!-- Live result pane -->
                <div class="pane">
                    <h3>
                        <span class="pane-icon">👁️</span>
                        Live Result
                    </h3>
                    <div class="frame-wrap">
                        <iframe id="demo-preview" title="HTML Demo"></iframe>
                    </div>
                </div>
            </div>
        </section>

        <!-- Interactive task section -->
        <section class="card">
            <h2>
                <span class="section-icon">🎯</span>
                Your Links & Images Challenge
            </h2>
            <p>Create an "About Me" page with links and images! Include:</p>
            
            <!-- Challenge requirements list -->
            <ul>
                <li>✅ A main heading with your name using <strong>&lt;h1&gt;</strong></li>
                <li>✅ An image with proper <strong>alt</strong> text using <strong>&lt;img&gt;</strong></li>
                <li>✅ A paragraph describing yourself using <strong>&lt;p&gt;</strong></li>
                <li>✅ At least one link to a website using <strong>&lt;a&gt;</strong></li>
                <li>🎨 Try adding multiple links or images for extra practice!</li>
            </ul>
            
            <div class="two-col">
                <!-- Enhanced Code Editor Pane -->
                <div class="pane">
                    <h3>
                        <span class="pane-icon">✏️</span>
                        Write Your HTML Here
                    </h3>
                    <div class="code-editor">
                        <div class="editor-header">
                            <div class="editor-tab active">
                                <div class="file-icon"></div>
                                index.html
                            </div>
                        </div>
                        <div class="editor-content">
                            <!--<div class="line-numbers" id="line-numbers">1</div>-->
                            <textarea 
                                id="task-code" 
                                class="editor-textarea"
                                placeholder="Create your About Me page here!

Example structure:
<h1>Your Name</h1>
<img src='https://via.placeholder.com/200' alt='Your description' width='200'>
<p>Tell us about yourself...</p>
<a href='https://example.com'>Your favorite site</a>

💡 Use placeholder images from: https://via.placeholder.com/200"
                                spellcheck="false"
                                autocomplete="off"
                                autocorrect="off"
                                autocapitalize="off"
                            ></textarea>
                        </div>
                        <div class="editor-status">
                            <div class="status-left">
                                <span>🌐 HTML</span>
                                <span>UTF-8</span>
                                <span>LF</span>
                            </div>
                            <div class="status-right">
                                <span>Ln <span id="current-line">1</span>, Col <span id="current-col">1</span></span>
                                <span>Spaces: 2</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Live preview pane -->
                <div class="pane">
                    <h3>
                        <span class="pane-icon">🎭</span>
                        Your Live Preview
                    </h3>
                    <div class="frame-wrap">
                        <iframe id="task-preview" title="Your HTML Result"></iframe>
                    </div>
                </div>
            </div>
            
            <!-- Action buttons -->
            <div class="btns">
                <button class="btn-primary" onclick="checkAnswer()">
                    🔍 Check My Answer
                </button>
                <button class="btn-warn" onclick="showHint()">
                    💡 Need a Hint?
                </button>
                <button disabled id="nextLessonBtn">
                    ➡️ Next Lesson
                </button>
            </div>
            
            <!-- Feedback display area -->
            <div class="feedback" id="feedback"></div>
        </section>
        
    </main>
    
    <!-- JavaScript files -->
    <!-- Lesson navigation functionality -->
    <script src="/2. partB/lesson-navigation.js"></script>
    
    <!-- Lesson 3 specific functionality -->
    <script src="/2. partB/lesson3_remake.js"></script>
</body>
</html>