<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/Global/root.css">
    <link rel="stylesheet" href="/2. partB/lesson11_remake.css">
    <title>Lesson 11: DOM Manipulation</title>

    <!-- protection script -->
        <script>
            (function() {
                'use strict';
                
                function getCurrentLessonNumber() {
                    const path = window.location.pathname;
                    const match = path.match(/lesson(\d+)/);
                    return match ? parseInt(match[1]) : 1;
                }

                function isLessonCompleted(lessonNumber) {
                    return localStorage.getItem(`partB_lesson${lessonNumber}_remake_complete`) === 'true';
                }

                function canAccessLesson(lessonNumber) {
                    if (lessonNumber === 1) return true;
                    
                    for (let i = 1; i < lessonNumber; i++) {
                        if (!isLessonCompleted(i)) {
                            return false;
                        }
                    }
                    return true;
                }

                function getNextAvailableLesson() {
                    for (let i = 1; i <= 15; i++) {
                        if (!isLessonCompleted(i)) {
                            return i;
                        }
                    }
                    return 15;
                }

                function showAccessDenied() {
                    const currentLesson = getCurrentLessonNumber();
                    const nextLesson = getNextAvailableLesson();
                    const requiredLesson = currentLesson - 1;
                    
                    document.body.innerHTML = `
                        <div style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; font-family: 'Nunito', sans-serif; z-index: 10000;">
                            <div style="background: white; padding: 40px; border-radius: 20px; box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2); text-align: center; max-width: 450px; margin: 20px;">
                                <div style="font-size: 4em; margin-bottom: 20px;">üîí</div>
                                <h1 style="color: #e74c3c; margin: 0 0 15px 0; font-size: 1.6em;">Access Denied</h1>
                                <p style="margin: 0 0 20px 0; line-height: 1.6; color: #555; font-size: 1.1em;">You must complete <strong>Lesson ${requiredLesson}</strong> before accessing Lesson ${currentLesson}.</p>
                                <button onclick="window.location.href='/2. partB/lesson${nextLesson}_remake.html'" style="background: linear-gradient(135deg, #007BFF, #0056b3); color: white; border: none; padding: 15px 30px; border-radius: 30px; font-weight: 600; cursor: pointer; font-size: 1.1em;">Take Me to Lesson ${nextLesson}</button>
                            </div>
                        </div>
                    `;
                }

                // IMMEDIATE CHECK
                const currentLesson = getCurrentLessonNumber();
                
                if (!canAccessLesson(currentLesson)) {
                    // Don't hide the document immediately - wait for DOM to be ready
                    if (document.readyState === 'loading') {
                        document.addEventListener('DOMContentLoaded', showAccessDenied);
                    } else {
                        // DOM is already ready, show access denied immediately
                        showAccessDenied();
                    }
                    return; // Exit early
                }
            })();
        </script>
  </head>
  <body>
    <a href="../index.html" class="home-button" title="Back to PartA">üè†</a>
    <header>
      <h1>Lesson 11 ‚Äî DOM Manipulation</h1>
    </header>
    <main class="container">
      <!-- Progress Tracker -->
      <div class="progress-steps">
        <div class="step active">
          <div class="step-circle">1</div>
          <div class="step-label">Learn</div>
        </div>
        <div class="step">
          <div class="step-circle">2</div>
          <div class="step-label">Practice</div>
        </div>
        <div class="step">
          <div class="step-circle">3</div>
          <div class="step-label">Complete</div>
        </div>
      </div>
      <!-- Enhanced Introduction -->
      <section class="card">
        <h2>
          <span class="section-icon">üé≠</span>
          DOM Manipulation - Making Websites Interactive!
        </h2>
        <p>DOM Manipulation is like being a puppeteer for your website! You can make elements dance, change colors, update text, and respond to user clicks - all without refreshing the page.</p>
        <div class="intro-highlight">
          DOM stands for "Document Object Model" - think of it as JavaScript's way to find, grab, and modify any part of your HTML page in real-time!
        </div>
        <h3>üéØ Core DOM Concepts</h3>
        <div class="dom-concepts">
          <div class="dom-concept-card selection" onclick="showConceptInfo('selection')">
            <span class="concept-icon">üéØ</span>
            <h4>Element Selection</h4>
            <p>Find and grab HTML elements to work with</p>
            <div class="concept-preview">getElementById("myElement")</div>
          </div>
          <div class="dom-concept-card content" onclick="showConceptInfo('content')">
            <span class="concept-icon">üìù</span>
            <h4>Content Modification</h4>
            <p>Change text, HTML, and styling instantly</p>
            <div class="concept-preview">element.innerHTML = "New!"</div>
          </div>
          <div class="dom-concept-card events" onclick="showConceptInfo('events')">
            <span class="concept-icon">üëÜ</span>
            <h4>User Events</h4>
            <p>Respond to clicks, hovers, and inputs</p>
            <div class="concept-preview">button.onclick = function() {}</div>
          </div>
          <div class="dom-concept-card dynamic" onclick="showConceptInfo('dynamic')">
            <span class="concept-icon">‚ö°</span>
            <h4>Dynamic Updates</h4>
            <p>Real-time changes without page refresh</p>
            <div class="concept-preview">Live interaction!</div>
          </div>
        </div>
      </section>
      <!-- Interactive Demonstrations -->
      <section class="card">
        <h2>
          <span class="section-icon">üéÆ</span>
          DOM Manipulation in Action - Try It Live!
        </h2>
        <p>Experience DOM manipulation with these interactive examples. Click through the tabs to see different concepts:</p>
        <div class="interactive-demo">
          <div class="demo-tabs">
            <div class="demo-tab active" data-demo="selection">üéØ Element Selection</div>
            <div class="demo-tab" data-demo="content">üìù Content Changes</div>
            <div class="demo-tab" data-demo="events">üëÜ Click Events</div>
            <div class="demo-tab" data-demo="styling">üé® Style Changes</div>
          </div>
          <div class="demo-content">
            <div class="demo-section active" id="demo-selection">
              <h4>üéØ Finding Elements with getElementById</h4>
              <div class="live-demo-container">
                <div class="html-preview">
                  <h3>HTML Structure:</h3>
                  <div class="code-example">
                    &lt;h1 id="myTitle"&gt;Hello World&lt;/h1&gt;<br><br>
                    &lt;p id="myText"&gt;This is a paragraph&lt;/p&gt;<br><br>
                    &lt;button id="myButton"&gt;Click Me&lt;/button&gt;
                  </div>
                </div>
                <div class="js-preview">
                  <h3>JavaScript Selection:</h3>
                  <div class="code-example">
                    // Find elements by their IDs<br><br>
                    let title = document.getElementById("myTitle");<br><br>
                    let text = document.getElementById("myText");<br><br>
                    let button = document.getElementById("myButton");<br><br>
                    console.log(title); // Shows the h1 element
                  </div>
                </div>
              </div>
              <div class="visual-result">
                <h3>üîç Visual Result:</h3>
                <div class="demo-elements">
                  <div class="demo-element selected" data-element="title">
                    <span class="element-tag">&lt;h1 id="myTitle"&gt;</span>
                    <span class="element-content">Hello World</span>
                    <span class="element-tag">&lt;/h1&gt;</span>
                    <div class="selection-indicator">‚Üê Selected by JavaScript!</div>
                  </div>
                </div>
              </div>
              <button class="try-it-btn" onclick="demoElementSelection()">üéØ Try Element Selection</button>
            </div>
            <div class="demo-section" id="demo-content">
              <h4>üìù Changing Content with innerHTML</h4>
              <div class="live-demo-container">
                <div class="html-preview">
                  <h3>Original Content:</h3>
                  <div class="demo-element-live">
                    <h2 id="demo-title-content">Welcome to My Site</h2>
                    <p id="demo-paragraph">This is the original text.</p>
                  </div>
                </div>
                <div class="js-preview">
                  <h3>JavaScript Magic:</h3>
                  <div class="code-example">
                    // Get the elements
                    let titleElement = document.getElementById("demo-title-content");
                    let paragraphElement = document.getElementById("demo-paragraph");
                    <br><br>
                    // Change their content instantly!
                    titleElement.innerHTML = "üéâ Content Changed!";
                    paragraphElement.innerHTML = "&lt;strong&gt;New bold text!&lt;/strong&gt;";
                  </div>
                </div>
              </div>
              <button class="try-it-btn" onclick="demoContentChange()">üìù Change Content Now</button>
              <button class="try-it-btn reset-btn" onclick="resetContentDemo()">üîÑ Reset</button>
            </div>
            <div class="demo-section" id="demo-events">
              <h4>üëÜ Interactive Button Events</h4>
              <div class="live-demo-container">
                <div class="event-demo-area">
                  <h3>Try These Interactive Examples:</h3>
                  <div class="button-demo-grid">
                    <div class="button-demo-item">
                      <button id="color-btn" class="demo-interactive-btn">Change My Color</button>
                      <p class="demo-description">Clicks change button color</p>
                    </div>
                    <div class="button-demo-item">
                      <button id="text-btn" class="demo-interactive-btn">Click Me!</button>
                      <p class="demo-description">Text changes on each click</p>
                    </div>
                    <div class="button-demo-item">
                      <button id="counter-btn" class="demo-interactive-btn">Counter: 0</button>
                      <p class="demo-description">Counts your clicks</p>
                    </div>
                  </div>
                </div>
                <div class="js-preview">
                  <h3>The JavaScript Behind It:</h3>
                  <div class="code-example">
                    Add click functionality<br><br>
                    let colorButton = document.getElementById("color-btn");
                    colorButton.onclick = function() {
                    this.style.backgroundColor = getRandomColor();
                    };<br><br>
                    let textButton = document.getElementById("text-btn");
                    textButton.onclick = function() {
                    this.innerHTML = "You clicked me!";
                    };
                  </div>
                </div>
              </div>
              <button class="try-it-btn" onclick="resetEventDemo()">üîÑ Reset All Buttons</button>
            </div>
            <div class="demo-section" id="demo-styling">
              <h4>üé® Dynamic Style Changes</h4>
              <div class="live-demo-container">
                <div class="style-demo-area">
                  <div class="style-target" id="style-demo-box">
                    <h3>Style Me!</h3>
                    <p>Click buttons to change my appearance</p>
                  </div>
                  <div class="style-controls">
                    <button onclick="changeBoxColor()" class="style-btn">üåà Change Color</button>
                    <button onclick="changeBoxSize()" class="style-btn">üìè Change Size</button>
                    <button onclick="changeBoxBorder()" class="style-btn">üî≤ Change Border</button>
                    <button onclick="resetStyleDemo()" class="style-btn reset">üîÑ Reset</button>
                  </div>
                </div>
                <div class="js-preview">
                  <h3>Style Manipulation Code:</h3>
                  <div class="code-example">
                    let box = document.getElementById("style-demo-box");<br><br>
                    // Change background color
                    box.style.backgroundColor = "#4CAF50";<br><br>
                    // Change size
                    box.style.width = "300px";
                    box.style.height = "200px";
                    // Change border
                    box.style.border = "5px solid #FF5722";
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <!-- Code Playground -->
      <section class="card">
        <h2>
          <span class="section-icon">üõ†Ô∏è</span>
          DOM Playground - Practice Your Skills!
        </h2>
        <p>Practice DOM manipulation in this interactive playground. Write HTML and JavaScript to see immediate results!</p>
        <div class="code-playground">
          <div class="playground-panel">
            <div class="playground-header">
              <span>‚úèÔ∏è</span>
              HTML & JavaScript Editor
            </div>
            <div class="playground-content">
              <textarea class="playground-textarea" id="playground-code" placeholder="Try writing HTML and JavaScript here!
                Example to get you started:
                <h1 id='greeting'>Hello!</h1>
                <button id='changeBtn'>Change Greeting</button>
                <script>
                let greetingElement = document.getElementById('greeting');
                let button = document.getElementById('changeBtn');
                button.onclick = function() {
                greetingElement.innerHTML = 'Hi there! üëã';
                greetingElement.style.color = 'blue';
                };
                </script>
                Try modifying this code or write your own!"></textarea>
            </div>
          </div>
          <div class="playground-panel">
            <div class="playground-header">
              <span>üé≠</span>
              Live Result
            </div>
            <div class="playground-content">
              <iframe class="playground-output" id="playground-output"></iframe>
            </div>
          </div>
        </div>
        <div class="action-buttons">
          <button class="btn btn-primary" onclick="runPlaygroundCode()">‚ñ∂Ô∏è Run Code</button>
          <button class="btn btn-warning" onclick="clearPlayground()">üóëÔ∏è Clear</button>
          <button class="btn btn-primary" onclick="loadDOMExample()">üìñ Load Example</button>
        </div>
      </section>
      <!-- Challenge Task -->
      <section class="card">
        <h2>
          <span class="section-icon">üéØ</span>
          Your DOM Manipulation Challenge
        </h2>
        <p>Create an interactive webpage that demonstrates DOM manipulation mastery. Show off your skills!</p>
        <div class="intro-highlight">
          <strong>Requirements Checklist:</strong><br>
          ‚úÖ HTML structure with at least one heading (h1, h2, etc.) and one button<br>
          ‚úÖ Unique ID attributes for elements you want to control<br>
          ‚úÖ JavaScript using getElementById() to select elements<br>
          ‚úÖ Button click functionality that changes content<br>
          ‚úÖ Use of innerHTML property to modify text/HTML<br>
          ‚úÖ Make the button change the heading text when clicked<br>
          ‚úÖ Use descriptive variable names and meaningful content
        </div>
        <div class="code-playground">
          <div class="playground-panel">
            <div class="playground-header">
              <span>‚úèÔ∏è</span>
              Your DOM Solution
            </div>
            <div class="playground-content">
              <textarea class="playground-textarea" id="task-editor" placeholder="Create your DOM manipulation webpage here...
                Starter template:
                <!DOCTYPE html>
                <html>
                <head>
                <title>My DOM App</title>
                <style>
                /* Add some styling if you want */
                body { font-family: Arial, sans-serif; padding: 20px; }
                button { padding: 10px 15px; font-size: 16px; }
                h1 { color: #007BFF; }
                </style>
                </head>
                <body>
                <h1 id='mainTitle'>Welcome to My Page</h1>
                <button id='changeButton'>Change Title</button>
                <script>
                // Your JavaScript code here
                let titleElement = document.getElementById('mainTitle');
                let button = document.getElementById('changeButton');
                button.onclick = function() {
                titleElement.innerHTML = 'Title Changed! üéâ';
                };
                </script>
                </body>
                </html>
                Make it your own by:
                - Adding more elements and IDs
                - Creating multiple buttons with different functions
                - Changing colors, sizes, or other styles
                - Adding creative content and interactions!"></textarea>
            </div>
          </div>
          <div class="playground-panel">
            <div class="playground-header">
              <span>üé≠</span>
              Your Interactive Result
            </div>
            <div class="playground-content">
              <iframe class="playground-output" id="task-output"></iframe>
            </div>
          </div>
        </div>
        <div class="action-buttons">
          <button class="btn btn-primary" onclick="checkDOMAnswer()">üîç Check My Solution</button>
          <button class="btn btn-warning" onclick="showDOMHint()">üí° Need a Hint?</button>
          <button class="btn btn-success" id="next-lesson" disabled onclick="nextLesson()">‚û°Ô∏è Next Lesson</button>
        </div>
        <div class="feedback" id="feedback"></div>
      </section>
    </main>
    <script src="/2. partB/lesson-navigation.js"></script>
    <script src="/2. partB/lesson11_remake.js"></script>
  </body>
</html>